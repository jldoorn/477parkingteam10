<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
This is an example weekly progress report document that team members can use to report their individual progress 
of their ECE477 senior design projects. Weekly progress reports are expected to follow the general guidelines
presented in the "Progress Report Policy" document, posted on Brightspace.  

Please create 4 copies of this example, renaming each copy to <PurdueID>.html, where <PurdueID> corresponds to
the Purdue ITAP Career Account ID given by Purdue to each individual team member. If you have any questions,
contact course staff.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!--Reconfigurable base tag; used to modify the site root location for root-relative links-->
<!--<base href="https://engineering.purdue.edu/ece477/StudentWebTemplate/" />-->
<base href="https://engineering.purdue.edu/477grp10/" /> <!-- Replace the N with your team number-->
<!--Content-->
<title>ECE477 Course Documents</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="author" content="George Hadley">
<meta name = "format-detection" content = "telephone=no" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!--CSS-->
<link rel="stylesheet" href="css/default.css" type="text/css" media="all" />
<link rel="stylesheet" href="css/responsive.css">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/content.css">
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->

</head>
<body>
<div id="wrapper_site">
    <div id="wrapper_page">
	<!-- Instantiate global site header.-->
	<div id="header"></div>
		<!-- Instantiate site global navigation bar.-->
		<div id="menu"></div>
	
		<!-- Instantiate a page banner image. Page banner images should be 1100x350px and should be located within the local
			img folder located at this directory level. -->
		<div id="banner">
			<img src="Files/img/BannerImgExample.jpg"></img>
		</div>
	
		<!-- Instantiate "tools" needed for a page. Tools are premade functional blocks that can be used to build a page,
			and include things such as a file lister (for listing out homework assignments or tutorials)
		-->
		<div id="content">
            <h2>Progress Report for Fred Kepler</h2>
			<h4>Week 5:</h4>
            <b>Date:</b> -02/10/2023-<br>
            <b>Total hours:</b> -12- <br>
            <b>Description of project design efforts:</b><br>
            This week I spent alot of time on focusing on the direction of the packaging of the final product of the Parking Tracking System. The first step in this process was to research how similar projects went 
			about packaging their designs. The first product that I researched was Smart Parking's SmartSensor.
			<br> <img src="Team/progress/img/Fred/SmartSensor.png"></img>
			<br> Figure 17: SmartSensor <br> 
			As shown above in figure 17, the SmartSensor was a good pace to start. They had a similar design in the fact that they seperate the sensor from the "brains" of their system. I researched what design considerations they made when they were designing their product.
			After learning what I could from their product, I moved on to a different project. This time I started to research the Monnit Wireless Vehicle Detect/Counter Sensor.
			<br> <img src="Team/progress/img/Fred/monnit.png"></img>
			<br> Figure 18: Monnit Wireless Vehicle Detect/Counter Sensor <br>
			As shown above, I researched Monnit's version. This project had alot of differences to the Parking Monitoring System. The main difference included directly wiring the sensor to the "brains" of the system through the means of a 9 foot hose. While there 
			were many differences, I was still able to learn from this project about the steps that they took to consider different factors when it pertains to designing a packaging for our project.
			<br> This brings me to the next step for this week. Implementing everything that I had learned from all of this research and starting to design the packaging.
			I chose to start this by talking to all of my teammates about what their visions were for the packaging design. Once we were all on the same page, I thought it would be best to start with performing a CAD model. This process involves chosing a software application
			for my design. Since I have not done CAD since highschool, I had to look into which software would be best to use. I decided to look into two different tools.
			<br> <img src="Team/progress/img/Fred/thinkerCAD.png"></img>
			<br> Figure 19: ThinkerCAD <br> 
			As shown above in figure 19, I played around with tinkerCAD. I also looked into the capabilities to produce a design that I was looking to make. At first look, it seemed like it was fairly easy to use and could do everything that I wanted.
			Next, I looked into Google Sketchup.
			<br> <img src="Team/progress/img/Fred/sketchupCAD.png"></img>
			<br> Figure 20: Google Sketchup <br> 
			As shown in figure 20, I performed the same analysis on the sketchup software. This application also seemed easy enough to use, and that it could do everything that I required. While contemplating the pros and cons of each software, I decided to go with tinkerCAD. This
			decision was made because the UI seemed a little bit easier to use, and there were multiple tutorials ready to use. This brings me to the next task I did this week.
			<br> The next step I took in this weeks progress was to perform some of the tutorials on the tinkerCAD software.
			<br> <img src="Team/progress/img/Fred/place.png"></img>
			<br> Figure 21: Place It Tutorial <br>
			<br> <img src="Team/progress/img/Fred/view.png"></img>
			<br> Figure 22: View It Tutorial <br>
			Shown above in figures 21 and 22, are two of the many tutorials I performed in tinkerCAD being the Place It and View It tutorials respectively.
			However, these are not the only tutorials that I performed in order to gain the skillset needed to design our packaging. Other examples include Move It,
			Rotate It, Size It, Group It, and Copy It. While these were all basic tutorials, they were essential, and helped me learn how to use tinkerCAD.
			<br> After learning how to use tinkerCad, and speaking with my group to figure out our design, I started designing. The first step in this process was to measure the pieces we were going to place in the packaging.
			<br> <img src="Team/progress/img/Fred/measure.jpg"></img>
			<br> Figure 23: Measurements <br>
			As shown in figure 23, I measured the battery pack and other various components to make our design. Then I decided to start with a basic box as a housing, and I was going to tailor it after constructiing this box.
			<br> <img src="Team/progress/img/Fred/CADv1.png"></img>
			<br> Figure 24: CAD: CDM V1 <br>
			The first box that I made is shown above in figure 24. However, this box had an issue. I made the walls of the box 2mm thick, and as a group we came to the conclusion that that was too thin. This caused me to go back and redesign the whole box to have 5mm thick walls.
			<br> <img src="Team/progress/img/Fred/CADv2.png"></img>
			<br> Figure 25: CAD: CDM V2 <br>
			Figure 25 shows the new box with 5mm walls. The next steps include adding the holes in the box to allow for the fastening of the top, a window so that you can check the status LEDs without opening the top, holes to allow the sensing of the ultrasonic sensor, and the hole to allow charging of the battery pack.
			<br> <img src="Team/progress/img/Fred/CADv3.1.png"></img>
			<br> Figure 26: CAD: CDM V3 <br>
			<br> <img src="Team/progress/img/Fred/CADv3.2.png"></img>
			<br> Figure 27: CAD: CDM V3 <br>
			As shown in figures 26 and 27, I implemented the features that we talked about previously. This completes the CAD for the packaging of the CDM. Now I am on to CADing the packaging for the AM. 
			<br> While working on the AM, I had to do a couple things. First off, I had to measure the seven segment displays that were going to be attatched to the front of the AM packaging. Once I measured these displays, I was able to create a CAD model of them. I then attatched it to the 
			packaging that I had already created for the AM.
			<br> <img src="Team/progress/img/Fred/AMv1.png"></img>
			<br> Figure 28: CAD: AM V1 <br>
			This is shown in figure 28. After creating this CAD, I sent it to some of my team members to get feedback. After talking to Dan, he explained that the back package is not going to contain a serious amount of components. Therefore, he recommended that I make the box a bit smaller. Next, we talked about how the 
			7-segment displays would need to be protected from weather. I then created a transparent protector for the displays. Also, I remembered that there would need to be power access into the back packaging. Therefore, I added an exterior hole for the power.
			<br> <img src="Team/progress/img/Fred/AMv2.png"></img>
			<br> Figure 29: CAD: AM V2 <br>
			Figure 29 is a screenshot of the CAD model I created for the AM. 
			<br> After I was done making the CAD models, I moved on to researching the materials and how much they cost, weigh, and what types of options are available to purchase. I made an approximation of the cost, weight, amount needed, and the tools needed for planning purposes of the packaging. 
			I then moved on to the PCB footprint. Since Dan and Aaron are working on the PCB, I utilized their help for the footprint's design. Next week, I plan to start integrating the seperat prototypes we have going on.
			<br>


			<h4>Week 4:</h4>
            <b>Date:</b> -02/03/2023-<br>
            <b>Total hours:</b> -10-<br>
            <b>Description of project design efforts:</b><br>
			This weeks progress starts where last week left off. We got the HC-SR04 sensors shipped to us this weekend. Like I said I was going to do last week, I began to prototype with it. First things first,
			I had to plan how I was going to prototype. After reading through some documentation and some online tutorials, I came to the decision to start my prototyping by utilizing some GPIO pins to interface with the 
			sensor. 
			<br> <img src="Team/progress/img/Fred/GPIO.png"></img>
			<br> Figure 10: STM32 Reference Manual: GPIO <br>
			Since it has been a while since I have worked with GPIO on the stm micro, I had to read through the documentation on the reference manual(https://www.st.com/resource/en/reference_manual/rm0091-stm32f0x1stm32f0x2stm32f0x8-advanced-armbased-32bit-mcus-stmicroelectronics.pdf) shown in figure 10. 
			After reading through the documentation I had to relearn all of the things needed to know like what pins, how to clear those pins, and how to enable those pins. 
			<br> <img src="Team/progress/img/Fred/GPIOpins.png"></img>
			<br> Figure 11: Prototyping: Enabling GPIO Pins <br>
			As shown in figure 11, I changed my already existing code to enable the gpio pins, and accomodated the new pins (PB6 and PB7) to be inputs and outputs respectively. The next step is to validate that I set up these pins correctly.
			The first step I did to accomplish this validation process was to set up an LED connected to PB7. Since PB7 is my output pin, I planned to validate that I set it up correctly by driving this pin high to see if I could light up the 
			LED, and turn it off when I drove the pin low.
			<br> <img src="Team/progress/img/Fred/PB7.jpg"></img>
			<br> Figure 12: Prototyping: Validating GPIO Pins <br> 
			As shown in figure 12, I was able to validate that I correctly set up the pin for output utilizing the code below shown below in figure 13.
			<br> <img src="Team/progress/img/Fred/LEDtest.png"></img>
			<br> Figure 13: Prototyping: Setting PB7 to high <br>
			Since I was able to set the pin up for output, and I was able to set that pin to a logical high, the next step was to start actually interfacing with the sensor. I worked on this in lab with Aaron.
			We both were working together to try and get communication working, but in different ways. The first step in getting this commnication working is to send a logical high to the trigger pin of the sensor
			for at least 10 microseconds. The first attempt at this was performed by utilizing a pre-existing function called nano wait shown below in figure 14.
			<br> <img src="Team/progress/img/Fred/nanoWait.png"></img>
			<br> Figure 14: Nano Wait <br>
			This function keeps the MCU busy for approximately 1 nano second directly related to the parameter n that you send to it. This is only a temporary implementation, as this function is not accurate enough 
			for our final implementation. However, for testing it serves its purpose. I call this function from a different function that I wrote called initSonar shown below in figure 15.
			<br> <img src="Team/progress/img/Fred/initSonar.png"></img>
			<br> Figure 15: initSonar <br>
			This function sets the pin to a logical high, calls the nano wait for approximately 10 microseconds, and then sets the pin back to a logical low. Theoretically this should turn on the sensor, and cause it to send out a burst of 
			ultrasonic waves. These waves rebound back to the sensor and get sent to the MCU through the echo pin. Then the MCU is supposed to measure these waves and calculate a distance based on the measurements. This is what was supposed to happen 
			theoretically. After implementing this plan, Dan and I hooked up my sensor to the oscilloscope. This was done because I wasnt registering any data from the echo pin. After multiple tries and troubleshooting, we could not get any data to echo back from 
			the sensor. We ran into a major setback. Dan pointed out to me that the trigger needs to be sent a logical high of 5 volts, where as our MCU can only send 3.3V. 
			The next steps included trying to implement a mosfet circuit to feed the trigger 5 volts by giving the gate the 3.3 volts from my MCU. Although this works, it is only a temporary fix. We plan to implement level shifers to our final design.
			We will need two of them because the input GPIO pin that the echo pin of the sensor is connected to only accepts 3.3 volt signals, while the echo pin outputs 5 volts. Dan and Aaron were successful in utilizing this mosfet circuit to feed the 
			trigger pin of the sensor 5 volts. Using the oscilloscope, they were able to communicate the sensor and detect the burst of ultrasonic waves being echoed back to the device. The next steps for next week are to be able to read this echo from the 
			MCU and calculate the distance based off of this signal. 
			<br> The final things I did this week include working on the component analysis, and analyzing the current flow of my prototyped development board.
			The specific component that I analyzed for the component analysis was the ultrasonic sensor. I chose this component to analyze because I am very familiar with it since I am currently going through the prototyping process with it.
			Measuring the current was done to help Dan out with the electrical document that is due this week. A picture of the measurement that Aaron and I took of the MCU while it was utilyzing the keypad, OLED, abd seven-segments is shown below in figure 16.
			<br> <img src="Team/progress/img/Fred/current.jpg"></img>
			<br> Figure 16: Current Measurement <br>
			<br>


			<h4>Week 3:</h4>
            <b>Date:</b> -1/26/2023-<br>
            <b>Total hours:</b> -8-<br>
            <b>Description of project design efforts:</b><br>
            The first contributions I made to our project this week is implementing the plans I had last week to look through my old labs and see if I could get communication going between 
			my microcontroller and some peripherals. I was able to successfully communicate with a series of seven segment displays, an OLED display, and a keypad.
			<br> <img src="Team/progress/img/Fred/OldLabProto.jpg"></img>
			<br> Figure 4: Old Lab Testing <br>
			As shown in figure 4, I was able to communicate the message "ECE 362" from my microcontroller to the series of seven segment displays. This is important to our project due to our 
			plan to use a series of seven segment displays to display the available parking space data. As shown in figure 4, I was able to communicate the message "hello again, fkepler" from my
			microcontroller to the OLED display. This is important to our project because we were thinking about utilizing an OLED display to help the client set up their Parking Tracking System.
			As shown in figure 4, I have a keypad set up. Not shown in the figure is the ability for me to input key presses to the keypad and display the key to the seven segment displays.
			As keys are pressed, the character pressed is displayed on the farthest right seven segment display. Every other character already being displayed is then shifted left by
			one display. Once the characters get shifted off of the farthest left display, those characters are no longer shown (does not wrap around display). This is important for our project because
			we have plans to utilize a keypad, paired with the oled, to help the client with the setup of the Parking Tracking System.
			</br>
			The second contribution I made to the project pertains to the "show me a thing" portion of our lab. I prepared a very simple demonstration for the show me a thing on wednesday.
			<br> <img src="Team/progress/img/Fred/ShowMeAThing1.jpg"></img>
			<br> Figure 5: Week 3 Show Me A Thing <br>
			As shown in figure 5, I mutated the progress from figure 4. I was able to communicate the updated message "# of open spaces displayed above" from my microcontroller to the OLED display.
			As shown in figure 5, I was able to communicate the updated message "477" from my microcontroller to the series of seven segment displays as an example of data we might display with the 
			Parking Tracking System. Not shown in the figure is the ability for me to input key presses to the keypad and display the key to the seven segment displays. This mechanic is not updated 
			from the previous progress.
			</br>
			The next contribution that I made to the project was doing some research on the sonar sensors that we ordered. Since we do not have them in hand, but they are currently being shipped, I decided 
			to look into the various data sheets and manuals to prepare for their arrival.
			<br> <img src="Team/progress/img/Fred/HC-SR04TimingDiagram.png"></img>
			<br> Figure 6: HC-SR04 Timing Diagram <br>
			The timing diagram for the sonar sensor is shown in figure 6.
			</br>
			After researching the sonar sensor's documentation, I decided to continue to mutate my software utilized in the show me a thing demonstration. I decided to spend my time doing this because it might 
			prove useful to our project. We plan on using the key pad during the original setup of the Parking Tracking System. For example, when setting up the devise, you will have to input the amount of parking spots 
			available when there is nobody in the garage. This is important to our system because when the first parker arrives, we need a threshold for the parking spot data to decrement from. My original software utilizing
			the keypad displays the key being pressed on the farthest left seven segment display. It then shifts every other display to the left one as described previously.
			<br> <img src="Team/progress/img/Fred/ShowMeAThing2.jpg"></img>
			<br> Figure 7: Week 3 Show Me A Thing <br>
			As shown in figure 7, on startup, the seven segment displays will show all 0s instead of a pre-set number like in figure 5. This is to simulate what the Parking Tracking system will do during startup.
			Another change that I made is the default message being displayed on the OLED. Instead of saying "# of open spaces displayed above" like in figure 5, it now says "Enter # of Open Parking Spaces".
			This again is to simulate a closer experience to our plans of the Parking Tracking System.
			<br> <img src="Team/progress/img/Fred/ShowMeAThing3.jpg"></img>
			<br> Figure 8: Week 3 Show Me A Thing <br>
			Once you enter a key press into the key pad, the key is then displayed into the farthest right seven segment display. If you enter a second key, the already displayed key shifts to the left one display and the 
			most recent key press gets displayed on the farthest right display. All other seven segment displays get turned off. This is due to our plans to only support garages with up to 99 parking spots for our Parking 
			Tracking System. An example of this is shown in figure 8. I also implemented support for garages that have less than 10 parking spots. For example, if you had 9 parking spots available, you would press 9 on the keypad
			and then hit the "*" key used as an enter key to bypass the second key press. This has the same functionaly, except it keeps the leading 0 as shown below in figure 9.
			<br> <img src="Team/progress/img/Fred/ShowMeAThing4.jpg"></img>
			<br> Figure 9: Week 3 Show Me A Thing <br>

            <h4>Weeks 1-2:</h4>
            <b>Date:</b> -01/19/2023-<br>
            <b>Total hours:</b> 8<br>
            <b>Description of project design efforts:</b><br>
            Weeks 1 and 2 were spent mainly researching different hardware that we could order and implement in our projects. 
			After receiving feedback from the course staff during the manlab, there were a lot of questions our team 
			had about our project. A lot of time (necessary) was spent figuring out our problem scope, that way we 
			were able to move forward in the research process. The first product I decided to research was a proximity
			sensor. The first one I chose to look into, and the one I used for the estimation in assignment 1, was the VCNL4010
			(https://www.adafruit.com/product/466?gclid=CjwKCAiAzp6eBhByEiwA_gGq5K61thGVXMjEY6ByUNyGZPxnj24dCDIgqjD0EzbRCMJ_Yp2c5sJFIBoC7yMQAvD_BwE)
			shown below in figure 1. <br> <img src="Team/progress/img/Fred/VCNL4010.jpg"></img>
			<br> Figure 1: VCNL4010 <br>
			After doing some research into the product, I found out that this product would not work for our design,
			This is due to the fact that it is designed to detect objects seven and a half inches away. This is too short
			of a distance for our project. This is because we want to use it to sense a car far enough away to then trigger 
			the increment or decrement of our display of parking spots available. After performing an analysis on the garages we plan to implement our project on,
			I was able to come to the solid conclusion that this would not work for us. I then had to research longer distance
			sensors. This brought me to the HC-SR04 Ultrasonic Distance Sensor (https://www.adafruit.com/product/3942) shown below in figure 2.
			<br> <img src="Team/progress/img/Fred/HC-SR04.jpg"></img>
			<br> Figure 2: HC-SR04 <br>
			This sensor works for a distance of 2 cm to 400 cm. At this point, this sensor seems to work a lot better for our
			project. The technical details for this sensor includes using a DC 5V power and logic voltage, 15mA current during measurement, 
			and 15 degree measuring angle. 
			<br> Other things that I accomplished during weeks 1 and 2 includes working on the Final Project Proposal.
			For the Final Project Proposal, I explained my roles and responsibilities within the team, chose a design component and professional component
			homework topic, helped craft the estimated budget, helped craft the PSSSCs, and cited my sources in IEEE format. 
			<br> Another thing that I worked on during the first two weeks includes adding my parts to this website. An example of this work is showcased on the team tab 
			. I also linked our A0 and A1 assignments to this website located under the documents tab. 
			<br> The next thing that I did during weeks 1 and 2 include my 
			contributions to the Functional Specification assignment. Not only did I help craft the Functional description and mechanical constraints portion of this assignment,
			but I also read through other sections and developed feedback to improve the document. Another thing I was working on over the past couple of weeks include reviewing our 
			submission and feedback from assignment A1. From the feedback, I helped mutate the document.
			<br>
			Finally, I brought out my development board from ECE 362 and worked on comprehending my connections and peripherals. This process was a complicated one due to the chaotic 
			nature that I made my connections between the microcontroller and peripherals. Picture proof of this is shown below in figure 3.
			<br> <img src="Team/progress/img/Fred/OldDevBoard.jpg"></img>
			<br> Figure 3: ECE 362 Development Board <br>
			I have plans to look through my labs and see if I can get communication between microcontroller and peripherals early next week.</br>

            <br>
                      
        </div>
	
		<!-- Instantiate global footer. Any changes to the footer should be made through the top-level file "footer.html" -->
		<div id="footer"></div>
    </div>
</div>

<!--JS-->
<script src="js/jquery.js"></script>
<script src="js/jquery-migrate-1.1.1.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    $("#header").load("header.html");
	$("#menu").load("navbar.html");
	$("#footer").load("footer.html");
});
</script>
</body>
</html>
